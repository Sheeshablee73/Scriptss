local OrionLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Orion/main/source'))()
local Window = OrionLib:MakeWindow({Name = "Go Kart Simulator GUI", HidePremium = false, SaveConfig = false, ConfigFolder = "OrionTest"})

local MainTab = Window:MakeTab({
    Name = "Main",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

local connections = {}

local function startLoop(name, func, limit)
    local count = 0
    local connection
    connection = game:GetService("RunService").Heartbeat:Connect(function()
        if count < limit then
            func()
            count = count + 1
        else
            connection:Disconnect()
            connections[name] = nil
        end
        wait(1) -- Adjust the wait time as needed
    end)
    connections[name] = connection
end

local function stopLoop(name)
    if connections[name] then
        connections[name]:Disconnect()
        connections[name] = nil
    end
end

local function infPower()
    local args = {
        [1] = 3
    }
    game:GetService("ReplicatedStorage").Remotes.Spin:FireServer(unpack(args))
end

local function infWins()
    local args = {
        [1] = 1
    }
    game:GetService("ReplicatedStorage").Remotes.Spin:FireServer(unpack(args))
end

local function infBoosts()
    local winBoostArgs = {
        [1] = "D4"
    }
    game:GetService("ReplicatedStorage").Remotes.Daily:FireServer(unpack(winBoostArgs))
    
    local powerBoostArgs = {
        [1] = "D3"
    }
    game:GetService("ReplicatedStorage").Remotes.Daily:FireServer(unpack(powerBoostArgs))
end

local function freePet()
    local args = {
        [1] = "D6"
    }
    game:GetService("ReplicatedStorage").Remotes.Daily:FireServer(unpack(args))
end

MainTab:AddButton({
    Name = "Start Infinite Wins",
    Callback = function()
        startLoop("infWins", infWins, 280)
    end
})

MainTab:AddButton({
    Name = "Stop Infinite Wins",
    Callback = function()
        stopLoop("infWins")
    end
})

MainTab:AddButton({
    Name = "Start Infinite Power",
    Callback = function()
        startLoop("infPower", infPower, 207)
    end
})

MainTab:AddButton({
    Name = "Stop Infinite Power",
    Callback = function()
        stopLoop("infPower")
    end
})

MainTab:AddButton({
    Name = "Start Infinite Win & Power Boost",
    Callback = function()
        startLoop("infBoosts", infBoosts, math.huge)  -- Runs indefinitely
    end
})

MainTab:AddButton({
    Name = "Stop Infinite Win & Power Boost",
    Callback = function()
        stopLoop("infBoosts")
    end
})

MainTab:AddButton({
    Name = "Free Pet",
    Callback = function()
        freePet()
    end
})

OrionLib:Init()